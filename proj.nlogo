@startuml
start
if (Роль = Преподаватель) then (yes)
  if (Авторизация?) then (yes)
    if (Учетные данные корректны?) then (yes)
      if (Аккаунт активирован?) then (yes)
        :Преподаватель открывает платформу;
        :Отображает список созданных курсов;
        if (Выбран курс для редактирования?) then (yes)
          :Отображает страницу редактирования курса;
          repeat
            :Редактирование материалов и заданий;
          repeat while (Редактирование не завершено?);
          :Сохраняет изменения;
          if (Просмотреть обращения слушателей?) then (yes)
            :Отображает список заявок и вопросов;
            if (Отклонить обращение?) then (yes)
              :Отклонение обращения;
            endif
            if (Принять обращение?) then (yes)
              :Принятие обращения и ответ на него;
            endif
          endif
          if (Просмотреть детализацию тестирования?) then (yes)
            :Отображает детализацию тестирования;
          endif
        else (no)
          :Отображает список созданных курсов;
        endif
      else (no)
        :Отображает страницу ожидания одобрения аккаунта;
      endif
    else (no)
      :Отображает страницу входа с сообщением об ошибке;
    endif
  else (no)
    :Отображает страницу регистрации преподавателя;
    if (Зарегистрироваться?) then (yes)
      :Регистрация преподавателя;
      if (Отправить email активации?) then (yes)
        :Отправка email с ссылкой на активацию;
        :Отображает страницу ожидания активации аккаунта;
        if (Аккаунт активирован администратором?) then (yes)
          :Отображает страницу успешной активации аккаунта;
        else (no)
          :Отображает страницу ожидания активации аккаунта администратором;
        endif
      else (no)
        :Email активации не отправлен;
      endif
    else (no)
      :Регистрация не выполнена;
    endif
  endif

else if (Роль = Слушатель курса) then (yes)
  if (Авторизация?) then (yes)
    if (Учетные данные корректны?) then (yes)
      if (Аккаунт активирован?) then (yes)
        :Слушатель курса открывает платформу;
        :Отображает список доступных курсов;
        if (Выбран курс для изучения?) then (yes)
          :Отображает страницу курса;
          if (Есть доступ к лекциям?) then (yes)
            repeat
              :Просмотр лекции;
            repeat while (Есть следующая лекция?);
          endif
          if (Есть доступ к тестам?) then (yes)
            repeat
              :Выполнение теста;
            repeat while (Есть следующий тест?);
          endif
          if (Все задания выполнены?) then (yes)
            :Отображает страницу с результатами;
            if (Оставить отзыв?) then (yes)
              :Открытие формы для оценки и оставления отзыва;
              if (Отправить отзыв?) then (yes)
                :Отправка отзыва и оценки курса;
              else (no)
                :Отзыв не отправлен;
              endif
            endif
          else (no)
            :Отображает страницу с невыполненными заданиями;
          endif
          if (Запросить помощь?) then (yes)
            :Открытие формы для отправки запроса помощи;
            if (Выбрать получателя запроса) then (yes)
              :Отображает варианты получателей запроса (Преподаватель курса, Администратор платформы);
              if (Отправить запрос помощи?) then (yes)
                :Отправка запроса помощи выбранному получателю;
              else (no)
                :Запрос помощи не отправлен;
              endif
            endif
          endif
        else (no)
          :Отображает список доступных курсов;
        endif
      else (no)
        :Отображает страницу активации аккаунта;
      endif
    else (no)
      :Отображает страницу входа с сообщением об ошибке;
    endif
  else (no)
    :Отображает страницу регистрации слушателя курса;
    if (Зарегистрироваться?) then (yes)
      :Регистрация слушателя курса;
      if (Отправить email активации?) then (yes)
        :Отправка email с ссылкой на активацию;
      else (no)
        :Email активации не отправлен;
      endif
    else (no)
      :Регистрация не выполнена;
    endif
  endif

else if (Роль = Блокчейн система) then (yes)
  :Блокчейн система инициализирует платформу;
  :Запускает механизмы блокчейн-консенсуса;
  :Синхронизирует блокчейн;
  if (Проверка блоков?) then (yes)
    :Проверка целостности блокчейн данных;
    if (Блоки корректны?) then (yes)
      :Блокчейн система продолжает работу;
    else (no)
      :Блокчейн система возвращает ошибку;
    endif
  endif

else
  :Отображает страницу выбора роли;
endif
stop
@enduml
